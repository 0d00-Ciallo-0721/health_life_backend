openapi: 3.0.3
info:
  title: 健康生活小程序 API 文档
  version: 1.0.0
  description: 包含大转盘、外卖跳转协议、身体档案管理、冰箱库存等核心接口
paths:
  /api/v1/ai-nutritionist/analyze/:
    post:
      operationId: v1_ai_nutritionist_analyze_create
      description: AI 营养师分析
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/ai/food-recognition/:
    post:
      operationId: v1_ai_food_recognition_create
      description: 拍图识热量
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/carbon/footprint/:
    get:
      operationId: v1_carbon_footprint_retrieve
      description: 碳足迹 (计算逻辑)
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/challenge/tasks/:
    get:
      operationId: v1_challenge_tasks_retrieve
      description: |-
        健康挑战任务 (DB 驱动)
        GET /challenge/tasks/
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/ai-nutritionist/analyze/:
    post:
      operationId: v1_diet_ai_nutritionist_analyze_create
      description: AI 营养师分析
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/ai/food-recognition/:
    post:
      operationId: v1_diet_ai_food_recognition_create
      description: 拍图识热量
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/carbon/footprint/:
    get:
      operationId: v1_diet_carbon_footprint_retrieve
      description: 碳足迹 (计算逻辑)
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/challenge/tasks/:
    get:
      operationId: v1_diet_challenge_tasks_retrieve
      description: |-
        健康挑战任务 (DB 驱动)
        GET /challenge/tasks/
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/favorites/:
    get:
      operationId: v1_diet_favorites_retrieve
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/fridge/:
    get:
      operationId: v1_diet_fridge_list
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FridgeItem'
          description: ''
    post:
      operationId: v1_diet_fridge_create
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FridgeItem'
          description: ''
  /api/v1/diet/fridge/{id}/:
    get:
      operationId: v1_diet_fridge_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FridgeItem'
          description: ''
    put:
      operationId: v1_diet_fridge_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FridgeItem'
          description: ''
    patch:
      operationId: v1_diet_fridge_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedFridgeItemRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedFridgeItemRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedFridgeItemRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FridgeItem'
          description: ''
    delete:
      operationId: v1_diet_fridge_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/diet/fridge/sync/:
    post:
      operationId: v1_diet_fridge_sync_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/log/:
    post:
      operationId: v1_diet_log_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/log/{id}/:
    delete:
      operationId: v1_diet_log_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/diet/preference/:
    post:
      operationId: v1_diet_preference_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/profile/:
    get:
      operationId: v1_diet_profile_retrieve
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
          description: ''
    put:
      operationId: v1_diet_profile_update
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProfileRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ProfileRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ProfileRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
          description: ''
    patch:
      operationId: v1_diet_profile_partial_update
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedProfileRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedProfileRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedProfileRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
          description: ''
  /api/v1/diet/recipe/{id}/:
    get:
      operationId: v1_diet_recipe_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/remedy/solutions/:
    get:
      operationId: v1_diet_remedy_solutions_retrieve
      description: |-
        补救方案 (DB 驱动)
        GET /remedy/solutions/?scenario=overeat
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/report/calendar/:
    get:
      operationId: v1_diet_report_calendar_retrieve
      description: |-
        [完整逻辑] 月度日历接口
        GET /diet/report/calendar/?year=2024&month=1
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/report/charts/daily/:
    get:
      operationId: v1_diet_report_charts_daily_retrieve
      description: 图表数据接口 - 日视图
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/report/charts/weekly/:
    get:
      operationId: v1_diet_report_charts_weekly_retrieve
      description: '[新增] 周图表接口'
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/report/charts/weight/:
    get:
      operationId: v1_diet_report_charts_weight_retrieve
      description: 图表数据接口 - 体重
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/report/weekly/:
    get:
      operationId: v1_diet_report_weekly_retrieve
      description: |-
        [完整逻辑] 周报数据接口
        GET /diet/report/weekly/?start_date=2024-01-01&end_date=2024-01-07
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/restaurant/{id}/:
    get:
      operationId: v1_diet_restaurant_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/search/:
    post:
      operationId: v1_diet_search_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/shopping-list/generate/:
    post:
      operationId: v1_diet_shopping_list_generate_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/summary/:
    get:
      operationId: v1_diet_summary_retrieve
      description: 每日汇总接口
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/weight/:
    get:
      operationId: v1_diet_weight_retrieve
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_diet_weight_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/wheel/:
    post:
      operationId: v1_diet_wheel_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/workout/history/:
    get:
      operationId: v1_diet_workout_history_retrieve
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_diet_workout_history_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/diet/workout/save/:
    get:
      operationId: v1_diet_workout_save_retrieve
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_diet_workout_save_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/favorites/:
    get:
      operationId: v1_favorites_retrieve
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/fridge/:
    get:
      operationId: v1_fridge_list
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FridgeItem'
          description: ''
    post:
      operationId: v1_fridge_create
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FridgeItem'
          description: ''
  /api/v1/fridge/{id}/:
    get:
      operationId: v1_fridge_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FridgeItem'
          description: ''
    put:
      operationId: v1_fridge_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FridgeItemRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FridgeItem'
          description: ''
    patch:
      operationId: v1_fridge_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedFridgeItemRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedFridgeItemRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedFridgeItemRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FridgeItem'
          description: ''
    delete:
      operationId: v1_fridge_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/fridge/sync/:
    post:
      operationId: v1_fridge_sync_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/log/:
    post:
      operationId: v1_log_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/log/{id}/:
    delete:
      operationId: v1_log_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/preference/:
    post:
      operationId: v1_preference_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/profile/:
    get:
      operationId: v1_profile_retrieve
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
          description: ''
    put:
      operationId: v1_profile_update
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProfileRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ProfileRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ProfileRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
          description: ''
    patch:
      operationId: v1_profile_partial_update
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedProfileRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedProfileRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedProfileRequest'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
          description: ''
  /api/v1/recipe/{id}/:
    get:
      operationId: v1_recipe_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/remedy/solutions/:
    get:
      operationId: v1_remedy_solutions_retrieve
      description: |-
        补救方案 (DB 驱动)
        GET /remedy/solutions/?scenario=overeat
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/report/calendar/:
    get:
      operationId: v1_report_calendar_retrieve
      description: |-
        [完整逻辑] 月度日历接口
        GET /diet/report/calendar/?year=2024&month=1
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/report/charts/daily/:
    get:
      operationId: v1_report_charts_daily_retrieve
      description: 图表数据接口 - 日视图
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/report/charts/weekly/:
    get:
      operationId: v1_report_charts_weekly_retrieve
      description: '[新增] 周图表接口'
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/report/charts/weight/:
    get:
      operationId: v1_report_charts_weight_retrieve
      description: 图表数据接口 - 体重
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/report/weekly/:
    get:
      operationId: v1_report_weekly_retrieve
      description: |-
        [完整逻辑] 周报数据接口
        GET /diet/report/weekly/?start_date=2024-01-01&end_date=2024-01-07
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/restaurant/{id}/:
    get:
      operationId: v1_restaurant_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/search/:
    post:
      operationId: v1_search_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/shopping-list/generate/:
    post:
      operationId: v1_shopping_list_generate_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/summary/:
    get:
      operationId: v1_summary_retrieve
      description: 每日汇总接口
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/user/login/:
    post:
      operationId: v1_user_login_create
      tags:
      - v1
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v1/user/meta/:
    get:
      operationId: v1_user_meta_retrieve
      description: |-
        获取用户元数据 (v3.1 增强版)
        GET /user/meta/
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/weight/:
    get:
      operationId: v1_weight_retrieve
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_weight_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/wheel/:
    post:
      operationId: v1_wheel_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/workout/history/:
    get:
      operationId: v1_workout_history_retrieve
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_workout_history_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/workout/save/:
    get:
      operationId: v1_workout_save_retrieve
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_workout_save_create
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
components:
  schemas:
    FridgeItem:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: 食材名称
          maxLength: 64
        category:
          type: string
          nullable: true
          title: 分类
          maxLength: 32
        sub_category:
          type: string
          nullable: true
          title: 子分类
          maxLength: 32
        quantity:
          type: string
          nullable: true
          title: 数量描述
          maxLength: 32
        amount:
          type: number
          format: double
          title: 数量数值
        unit:
          type: string
          title: 单位
          maxLength: 10
        days_stored:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          title: 入库时间
        expiry_date:
          type: string
          format: date
          nullable: true
          title: 过期日期
        is_expiring:
          type: string
          readOnly: true
        is_scrap:
          type: boolean
          title: 是否边角料
        freshness:
          type: string
          readOnly: true
      required:
      - created_at
      - days_stored
      - freshness
      - id
      - is_expiring
      - name
    FridgeItemRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          title: 食材名称
          maxLength: 64
        category:
          type: string
          nullable: true
          title: 分类
          maxLength: 32
        sub_category:
          type: string
          nullable: true
          title: 子分类
          maxLength: 32
        quantity:
          type: string
          nullable: true
          title: 数量描述
          maxLength: 32
        amount:
          type: number
          format: double
          title: 数量数值
        unit:
          type: string
          minLength: 1
          title: 单位
          maxLength: 10
        expiry_date:
          type: string
          format: date
          nullable: true
          title: 过期日期
        is_scrap:
          type: boolean
          title: 是否边角料
      required:
      - name
    GenderEnum:
      enum:
      - 0
      - 1
      - 2
      type: integer
      description: |-
        * `0` - 未知
        * `1` - 男
        * `2` - 女
    GoalTypeEnum:
      enum:
      - lose
      - maintain
      - gain
      type: string
      description: |-
        * `lose` - 减脂
        * `maintain` - 保持
        * `gain` - 增肌
    PatchedFridgeItemRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          title: 食材名称
          maxLength: 64
        category:
          type: string
          nullable: true
          title: 分类
          maxLength: 32
        sub_category:
          type: string
          nullable: true
          title: 子分类
          maxLength: 32
        quantity:
          type: string
          nullable: true
          title: 数量描述
          maxLength: 32
        amount:
          type: number
          format: double
          title: 数量数值
        unit:
          type: string
          minLength: 1
          title: 单位
          maxLength: 10
        expiry_date:
          type: string
          format: date
          nullable: true
          title: 过期日期
        is_scrap:
          type: boolean
          title: 是否边角料
    PatchedProfileRequest:
      type: object
      properties:
        nickname:
          type: string
          minLength: 1
        gender:
          allOf:
          - $ref: '#/components/schemas/GenderEnum'
          title: 性别
        height:
          type: number
          format: double
          description: cm
        weight:
          type: number
          format: double
          description: kg
        age:
          type: integer
        activity_level:
          type: number
          format: double
          description: 1.2~1.9
        diet_tags:
          title: 饮食偏好标签
        allergens:
          title: 过敏源
        goal_type:
          allOf:
          - $ref: '#/components/schemas/GoalTypeEnum'
          title: 健康目标
    Profile:
      type: object
      properties:
        nickname:
          type: string
        gender:
          allOf:
          - $ref: '#/components/schemas/GenderEnum'
          title: 性别
        height:
          type: number
          format: double
          description: cm
        weight:
          type: number
          format: double
          description: kg
        age:
          type: integer
        activity_level:
          type: number
          format: double
          description: 1.2~1.9
        diet_tags:
          title: 饮食偏好标签
        allergens:
          title: 过敏源
        daily_kcal_limit:
          type: integer
          readOnly: true
          title: 每日推荐摄入
        goal_type:
          allOf:
          - $ref: '#/components/schemas/GoalTypeEnum'
          title: 健康目标
      required:
      - daily_kcal_limit
    ProfileRequest:
      type: object
      properties:
        nickname:
          type: string
          minLength: 1
        gender:
          allOf:
          - $ref: '#/components/schemas/GenderEnum'
          title: 性别
        height:
          type: number
          format: double
          description: cm
        weight:
          type: number
          format: double
          description: kg
        age:
          type: integer
        activity_level:
          type: number
          format: double
          description: 1.2~1.9
        diet_tags:
          title: 饮食偏好标签
        allergens:
          title: 过敏源
        goal_type:
          allOf:
          - $ref: '#/components/schemas/GoalTypeEnum'
          title: 健康目标
  securitySchemes:
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
